<!-- find me in partials/data_tables_custom -->
<div class="row">
	<div class="col-md-12">
		<div class="box">
			<div class="box-header">
				<span class="title">Departamento</span>
			</div>
			<div class="box-content">
				<form class="form-horizontal fill-up validatable"
					ng-submit="operacao()">

					<div class="padded">
						<div class="form-group">
							<label class="control-label col-lg-2">Nome</label>
							<div class="col-lg-10">
								<input type="text" class="validate[required,minSize[14]]"
									ng-disabled="visualizar || excluir"
									data-prompt-position="topLeft" ng-model="departamento.nome" />
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-lg-2">Descri&ccedil;&atilde;o</label>
							<div class="col-lg-10">
								<input type="text" class="validate[required]"
									data-prompt-position="topLeft"
									ng-model="departamento.descricao"
									ng-disabled="visualizar || excluir" />
							</div>
						</div>
						<!-- 						<div class="form-group"> -->
						<!-- 							<label class="control-label col-lg-2">Endereços</label> -->
						<!-- 							<div class="col-lg-10"> -->
						<!-- 								<button class="btn btn-blue" data-dismiss="modal" type="submit" -->
						<!-- 									ng-click="initAddresses()">Novo Endereço</button> -->
						<!-- 								<div class="accordion" id="accordion2" -->
						<!-- 									ng-show="client.addresses.length > 0"> -->
						<!-- 									<div class="accordion-group" -->
						<!-- 										ng-repeat="endereco in empresa.enderecos"> -->
						<!-- 										<div class="accordion-heading"> -->
						<!-- 											<a class="accordion-toggle" data-toggle="collapse" -->
						<!-- 												data-parent="#accordion2" ng-href="#{{endereco.id}}"> -->
						<!-- 												{{endereco.id}} - {{endereco.descricao}} </a> -->
						<!-- 										</div> -->
						<!-- 										<div id="{{address.id}}" class="accordion-body collapse" -->
						<!-- 											ng-class="{'in' : ($index==0)}"> -->
						<!-- 											<form class="form-horizontal fill-up separate-sections"> -->
						<!-- 												<div class="padded"> -->
						<!-- 													<div class="form-group"> -->
						<!-- 														<label class="control-label col-lg-2">ID</label> -->
						<!-- 														<div class="col-lg-10"> -->
						<!-- 															<input type="text" class="validate[required]" -->
						<!-- 																data-prompt-position="topLeft" ng-model="endereco.id" /> -->
						<!-- 														</div> -->
						<!-- 													</div> -->
						<!-- 													<div class="form-group"> -->
						<!-- 														<label class="control-label col-lg-2">Descricao</label> -->
						<!-- 														<div class="col-lg-10"> -->
						<!-- 															<input type="text" class="validate[required]" -->
						<!-- 																data-prompt-position="topLeft" -->
						<!-- 																ng-model="endereco.descricao" /> -->
						<!-- 														</div> -->
						<!-- 													</div> -->
						<!-- 													<div class="form-group"> -->
						<!-- 														<label class="control-label col-lg-2">Rua</label> -->
						<!-- 														<div class="col-lg-10"> -->
						<!-- 															<input type="text" class="validate[required]" -->
						<!-- 																data-prompt-position="topLeft" ng-model="endereco.rua" /> -->
						<!-- 														</div> -->
						<!-- 													</div> -->
						<!-- 													<div class="form-group"> -->
						<!-- 														<label class="control-label col-lg-2">CEP</label> -->
						<!-- 														<div class="col-lg-10"> -->
						<!-- 															<input type="text" class="validate[required]" -->
						<!-- 																data-prompt-position="topLeft" ng-model="endereco.cep" /> -->
						<!-- 														</div> -->
						<!-- 													</div> -->
						<!-- 												</div> -->
						<!-- 												<div class="modal-footer"> -->
						<!-- 													<button class="btn btn-default" data-dismiss="modal" -->
						<!-- 														type="submit" ng-click="removeAddress(address)">Remover</button> -->
						<!-- 													<button class="btn btn-blue" data-dismiss="modal" -->
						<!-- 														type="submit" ng-click="saveAddress(address)">Save -->
						<!-- 														changes</button> -->
						<!-- 												</div> -->
						<!-- 											</form> -->
						<!-- 										</div> -->
						<!-- 									</div> -->
						<!-- 								</div> -->
						<!-- 							</div> -->
						<!-- 						</div> -->

						<!-- 						<div class="form-group"> -->
						<!-- 							<label class="control-label col-lg-2">Username</label> -->
						<!-- 							<div class="col-lg-10"> -->
						<!-- 								<input type="text" class="validate[required]" -->
						<!-- 									data-prompt-position="topLeft" /> -->
						<!-- 							</div> -->
						<!-- 						</div> -->

						<!-- 						<div class="form-group"> -->
						<!-- 							<label class="control-label col-lg-2">Password</label> -->
						<!-- 							<div class="col-lg-10"> -->
						<!-- 								<input type="password" id="password" -->
						<!-- 									class="validate[required,minSize[4]]"> <span -->
						<!-- 									class="help-block note"><i class="icon-warning-sign"></i> -->
						<!-- 									Please use a secure password.</span> -->
						<!-- 							</div> -->
						<!-- 						</div> -->

						<!-- 						<div class="form-group"> -->
						<!-- 							<label class="control-label col-lg-2">Confirmation</label> -->
						<!-- 							<div class="col-lg-10"> -->
						<!-- 								<input type="password" id="password_confirmation" -->
						<!-- 									class="validate[required,equals[password],minSize[4]]" /> -->
						<!-- 							</div> -->
						<!-- 						</div> -->

						<!-- 					</div> -->

						<div class="form-actions">
							<button type="submit" class="btn btn-blue"
								ng-disabled="visualizar">{{excluir && 'Excluir' ||
								'Salvar'}}</button>
							<a type="button" class="btn btn-default" ng-href="#/empresas">Voltar</a>
						</div>
				</form>
			</div>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-md-12">
		<div class="box">
			<div class="box-header">
				<span class="title">Empresas</span>
			</div>
			<div class="box-content">
				<table ng-table="empresasTableParams"
					template-pagination="custom/pager"
					class="dTable responsive dataTable">
					<thead>
						<tr>
							<th colspan="5">
								<div class="table-header">
									<!-- 									<div class="dataTables_filter" id="DataTables_Table_0_filter"> -->
									<!-- 										<label>Search: <input type="text" -->
									<!-- 											aria-controls="DataTables_Table_0"></label> -->
									<!-- 									</div> -->
									<div id="DataTables_Table_0_length" class="dataTables_length">
										<label>Mostrar
											<div class="selector fixedWidth">
												<span style="-webkit-user-select: none;">{{pageSize}}</span>
												<select size="1" name="DataTables_Table_0_length"
													ng-model="pageSize" ng-options="n for n in pageTemplate"
													ng-change="empresasTableParams.count(pageSize)">
												</select>
											</div> Empresas
										</label>
									</div>
								</div>
							</th>
						</tr>
						<tr>
							<th class="sortable"
								ng-class="{
                    'sort-asc': empresasTableParams.isSortBy('cnpjCei', 'asc'),
                    'sort-desc': empresasTableParams.isSortBy('cnpjCei', 'desc')
                  }"
								ng-click="empresasTableParams.sorting({'name' : empresasTableParams.isSortBy('cnpjCei', 'asc') && 'desc' || 'asc'})">
								<div>
									<i class="glyphicon glyphicon-user"></i> CNPJ/CEI
								</div>
							</th>
							<th class="text-center">Raz&atilde;o Social</th>
							<th class="text-center">Nome Fantasia</th>
							<th class="text-center">Inscri&ccedil;&atilde;o Estadual</th>
							<th class="text-center">A&ccedil;&otilde;es</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="empresa in $data"
							 ng-click="empresa.$selected = !empresa.$selected; departamento.empresa = empresa;"
							ng-class="{$index%2==0 && 'odd' || 'even'}{ 'active': empresa.$selected}">
							<td data-title="'CNPJ/CEI'">{{empresa.cnpjCei}}</td>
							<td data-title="'Raz&atilde;o Social'">{{empresa.razaoSocial}}</td>
							<td data-title="'Nome Fantasia'">{{empresa.nomeFantasia}}</td>
							<td data-title="'Inscri&ccedil;&atilde;o Estadual'">{{empresa.inscricaoEstadual}}</td>
							<!-- 						<td data-title="''"><a class="btn btn-lg btn-default icon-pencil" ng-href="#/empresa/{{empresa.cnpjCei}}"></a></td> -->
							<td data-title="''"><div class="btn-group">
									<button class="btn btn-xs btn-default dropdown-toggle"
										data-toggle="dropdown">
										<i class="icon-cog"></i>
									</button>
									<ul class="dropdown-menu">
										<li><a href="#/empresa/1/{{empresa.cnpjCei}}">Visualizar</a></li>
										<li><a href="#/empresa/2/{{empresa.cnpjCei}}">Editar</a></li>
										<li><a href="#/empresa/3/{{empresa.cnpjCei}}">Excluir</a></li>
									</ul>
								</div></td>
						</tr>
					</tbody>
				</table>
				<!-- type="text/ng-template" id="custom/pager" -->
				<script type="text/ng-template" id="custom/pager">
				<div class="table-footer">
					<div class="dataTables_info" id="DataTables_Table_0_info">{{params.count() > params.total() && params.total() || params.count()}} de {{params.total()}}</div>
					<div class="dataTables_paginate paging_full_numbers"
						id="DataTables_Table_0_paginate">
						<a tabindex="0" 
							class="first paginate_button"
							ng-click="params.page(1)"
							ng-class="{'paginate_button_disabled': params.page() <= 1}"
							id="DataTables_Table_0_first">First</a>
						<a tabindex="0"
							class="previous paginate_button" ng-click="params.page(params.page() - 1)"
							ng-class="{'paginate_button_disabled': params.page() <= 1}"
							id="DataTables_Table_0_previous">Previous</a>
						<span ng-repeat="i in [1,params.pageCount] |makeRange">
							<a type="button" ng-class="{'paginate_active':i == params.page()}"  
										ng-click="params.page(i)" class="paginate_button">{{i}}</a>
						</span>
							<a tabindex="0" ng-class="{'paginate_button_disabled': params.page() >=  params.pageCount}" ng-click="params.page(params.page() + 1)"
								class="next paginate_button" id="DataTables_Table_0_next">Next</a>
							<a
							tabindex="0" class="last paginate_button" ng-class="{'paginate_button_disabled':params.page() >=  params.pageCount}" ng-click="params.page(params.pageCount)"
							id="DataTables_Table_0_last">Last</a>
						
					</div>
				</div>
			</script>

			</div>
		</div>
	</div>